<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Horse Web - Full Layout</title>
  <style>
    :root {
      --dark-bg: #1a150f;
      --light-bg: #f9eecd;
      --text-color: #d1b777;
    }

    html, body {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      background: var(--dark-bg);
      color: var(--text-color);
      overflow-x: hidden;
    }

    /* Header */
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 14px 5vw;
    }
    .logo img { height: 40px; }
    .contact-info { font-size: 1rem; }
    .menu-toggle { width: 30px; cursor: pointer; }
    .menu-toggle span {
      display: block;
      height: 3px;
      background: var(--text-color);
      margin: 5px 0;
    }
    @media(max-width: 900px) {
      .contact-info { display: none; }
    }

    /* Side Menu */
    .menu-panel {
      position: fixed;
      top: 0;
      right: -320px;
      width: 280px;
      height: 100%;
      background: rgba(26, 21, 15, .95);
      padding: 18px;
      transition: right .3s ease;
      z-index: 2000;
    }
    .menu-panel.active { right: 0; }
    .menu-links { list-style: none; padding: 0; margin-top: 50px; }
    .menu-links li { padding: 14px 0; border-bottom: 1px solid rgba(255,255,255,.1); }
    .menu-links a { color: #fff; text-decoration: none; font-size: 1.1rem; }

    /* Carousel */
    .carousel-container {
      width: 100%;
      max-width: 1200px;
      margin: 0 auto 40px;
      height: clamp(300px, 58vh, 560px);
      position: relative;
      perspective: 2000px;
    }
    .carousel { width: 100%; height: 100%; position: relative; }
    .slide {
      position: absolute;
      left: 50%; top: 50%;
      transform: translate(-50%,-50%);
      border-radius: 14px;
      overflow: hidden;
      background: #fff;
      box-shadow: 0 10px 30px rgba(0,0,0,.25);
      transition: transform .6s ease, opacity .4s ease;
    }
    .slide img {
      width: 100%; height: 100%;
      object-fit: cover;
    }
    .caption {
      position: absolute;
      top: 12px; left: 50%;
      transform: translateX(-50%);
      background: rgba(0,0,0,0.5);
      color: #fff;
      padding: 6px 14px;
      border-radius: 6px;
      font-size: 1rem;
      pointer-events: none;
      white-space: nowrap;
    }

    /* Masonry Grid */
    .content-container { padding: 22px 5vw; }
    .masonry {
      column-count: 3;
      column-gap: 12px;
    }
    .masonry-item {
      background: var(--light-bg);
      margin-bottom: 12px;
      border-radius: 6px;
      overflow: hidden;
      display: inline-block;
      width: 100%;
    }
    .masonry-item img { width: 100%; display: block; }
    @media(max-width: 900px) { .masonry { column-count: 2; } }
    @media(max-width: 600px) { .masonry { column-count: 1; } }

    /* Footer */
    footer {
      padding: 30px 5vw;
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 12px;
      align-items: center;
    }
    footer img { height: 28px; }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="logo"><img src="https://i.ibb.co/Y0Fw97w/logo.png" alt="Horse Logo"></div>
    <div class="contact-info">2468 898 876</div>
    <div class="menu-toggle" id="menuToggle">
      <span></span><span></span><span></span>
    </div>
  </header>

  <main>
    <!-- Carousel -->
    <section class="carousel-container" id="carouselContainer">
      <div class="carousel" id="carousel">
        <div class="slide"><div class="caption">Banner 1</div><img src="https://picsum.photos/id/1015/1200/1800"></div>
        <div class="slide"><div class="caption">Poster 2</div><img src="https://picsum.photos/id/1025/1200/1800"></div>
        <div class="slide"><div class="caption">Event 3</div><img src="https://picsum.photos/id/1035/1200/1800"></div>
        <div class="slide"><div class="caption">Show 4</div><img src="https://picsum.photos/id/1045/1200/1800"></div>
        <div class="slide"><div class="caption">Promo 5</div><img src="https://picsum.photos/id/1055/1200/1800"></div>
      </div>
    </section>

    <!-- Masonry Grid -->
    <section class="content-container">
      <div class="masonry">
        <div class="masonry-item"><img src="https://picsum.photos/id/200/400/300"></div>
        <div class="masonry-item"><img src="https://picsum.photos/id/201/400/500"></div>
        <div class="masonry-item"><img src="https://picsum.photos/id/202/400/450"></div>
        <div class="masonry-item"><img src="https://picsum.photos/id/203/400/320"></div>
        <div class="masonry-item"><img src="https://picsum.photos/id/204/400/380"></div>
        <div class="masonry-item"><img src="https://picsum.photos/id/200/400/300"></div>
        <div class="masonry-item"><img src="https://picsum.photos/id/201/400/500"></div>
        <div class="masonry-item"><img src="https://picsum.photos/id/202/400/450"></div>
        <div class="masonry-item"><img src="https://picsum.photos/id/203/400/320"></div>
        <div class="masonry-item"><img src="https://picsum.photos/id/204/400/380"></div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <div>
      <img src="https://i.ibb.co/Y0Fw97w/logo.png" alt="logo">
      <div style="margin-top:8px">contact@horsestudio.com<br>+842 8498 894</div>
    </div>
    <div>
      <a style="color:var(--text-color);margin-left:8px" href="#">FB</a>
      <a style="color:var(--text-color);margin-left:8px" href="#">YT</a>
    </div>
  </footer>

  <!-- Side Menu -->
  <aside class="menu-panel" id="menuPanel">
    <div style="text-align:right"><button onclick="closeMenu()" style="background:none;border:none;color:white;font-size:28px;cursor:pointer">&times;</button></div>
    <ul class="menu-links">
      <li><a href="#">Home</a></li>
      <li><a href="#">About</a></li>
      <li><a href="#">Contact</a></li>
    </ul>
  </aside>

  <script>
    // Toggle Menu
    const menuToggle = document.getElementById('menuToggle');
    const menuPanel = document.getElementById('menuPanel');
    menuToggle.addEventListener('click', ()=> menuPanel.classList.toggle('active'));
    function closeMenu(){ menuPanel.classList.remove('active'); }

    // Carousel
    (function () {
      const container = document.getElementById('carouselContainer');
      const slides = Array.from(document.querySelectorAll('.slide'));
      let current = 0, autoId = null, startX = 0, isDown = false;

      function updateCarousel() {
        const total = slides.length;
        const cw = container.clientWidth;
        const cardW = Math.min(320, Math.max(cw * 0.28, 140));
        const gap = Math.max(12, cw * 0.04);
        const base = cardW + gap;

        slides.forEach((slide,i)=>{
          let offset = (i - current + total) % total;
          slide.style.width = cardW+"px";
          slide.style.height = Math.round(container.clientHeight*0.78)+"px";
          if(offset===0){
            slide.style.transform=`translate(-50%,-50%) scale(1.1)`;
            slide.style.zIndex=5; slide.style.opacity="1";
          }else if(offset===1){
            slide.style.transform=`translate(calc(-50% + ${base}px),-50%) rotateY(-25deg) scale(0.9)`;
            slide.style.zIndex=4; slide.style.opacity="0.6";
          }else if(offset===total-1){
            slide.style.transform=`translate(calc(-50% - ${base}px),-50%) rotateY(25deg) scale(0.9)`;
            slide.style.zIndex=4; slide.style.opacity="0.6";
          }else{
            slide.style.transform=`translate(-50%,-50%) scale(0)`;
            slide.style.zIndex=1; slide.style.opacity="0";
          }
        });
      }

      function next(){ current=(current+1)%slides.length; updateCarousel(); }
      function prev(){ current=(current-1+slides.length)%slides.length; updateCarousel(); }
      function startAuto(){ stopAuto(); autoId=setInterval(next,1000); }
      function stopAuto(){ if(autoId) clearInterval(autoId); }

      const carousel=document.getElementById('carousel');
      carousel.addEventListener('pointerdown', e=>{
        startX=e.clientX; isDown=true; stopAuto();
      });
      carousel.addEventListener('pointerup', e=>{
        if(!isDown) return; isDown=false;
        let dx=e.clientX-startX;
        if(Math.abs(dx)>40) dx<0?next():prev();
        startAuto();
      });
      window.addEventListener('resize', ()=>updateCarousel());
      window.addEventListener('orientationchange', ()=>setTimeout(updateCarousel,100));

      updateCarousel(); startAuto();
    })();
  </script>
</body>
</html>
